{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport { useContext } from 'react';\nimport { AuthContext } from '../contexts/AuthContext';\n\n/**\n * Custom hook to access authentication context\n * This is a re-export from the AuthContext for consistency\n * and to provide a single source of truth for auth operations\n */\nexport function useAuth() {\n  _s();\n  const context = useContext(AuthContext);\n  if (context === null) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}\n\n/**\n * Hook to check if user has specific permissions\n */\n_s(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport function usePermissions() {\n  _s2();\n  const {\n    user,\n    isAuthenticated\n  } = useAuth();\n  const hasPermission = permission => {\n    if (!isAuthenticated || !user) return false;\n    switch (permission) {\n      case 'post_job':\n        return user.userType === 'employer' || user.userType === 'admin';\n      case 'apply_job':\n        return user.userType === 'worker';\n      case 'admin_access':\n        return user.userType === 'admin';\n      case 'view_applications':\n        return user.userType === 'employer' || user.userType === 'admin';\n      case 'manage_users':\n        return user.userType === 'admin';\n      case 'boost_jobs':\n        return user.userType === 'employer' || user.userType === 'admin';\n      default:\n        return false;\n    }\n  };\n  const canPostJob = hasPermission('post_job');\n  const canApplyForJob = hasPermission('apply_job');\n  const canAccessAdmin = hasPermission('admin_access');\n  const canViewApplications = hasPermission('view_applications');\n  const canManageUsers = hasPermission('manage_users');\n  const canBoostJobs = hasPermission('boost_jobs');\n  return {\n    hasPermission,\n    canPostJob,\n    canApplyForJob,\n    canAccessAdmin,\n    canViewApplications,\n    canManageUsers,\n    canBoostJobs\n  };\n}\n\n/**\n * Hook to get user role-based navigation items\n */\n_s2(usePermissions, \"ZciNvz1w38ujgxJkc4IsNEDLTNc=\", false, function () {\n  return [useAuth];\n});\nexport function useUserNavigation() {\n  _s3();\n  const {\n    user,\n    isAuthenticated\n  } = useAuth();\n  const {\n    canPostJob,\n    canAccessAdmin\n  } = usePermissions();\n  const getNavigationItems = () => {\n    const baseItems = [{\n      name: 'Home',\n      href: '/',\n      icon: 'home'\n    }, {\n      name: 'Jobs',\n      href: '/jobs',\n      icon: 'briefcase'\n    }];\n    if (!isAuthenticated) {\n      return [...baseItems, {\n        name: 'Login',\n        href: '/login',\n        icon: 'log-in'\n      }, {\n        name: 'Register',\n        href: '/register',\n        icon: 'user-plus'\n      }];\n    }\n    const authenticatedItems = [...baseItems, {\n      name: 'Dashboard',\n      href: '/dashboard',\n      icon: 'layout-dashboard'\n    }, {\n      name: 'Profile',\n      href: '/profile',\n      icon: 'user'\n    }];\n    if (canPostJob) {\n      authenticatedItems.splice(2, 0, {\n        name: 'Post Job',\n        href: '/post-job',\n        icon: 'plus-circle'\n      });\n    }\n    if ((user === null || user === void 0 ? void 0 : user.userType) === 'worker') {\n      authenticatedItems.push({\n        name: 'Applications',\n        href: '/applications',\n        icon: 'file-text'\n      });\n    }\n    if (canAccessAdmin) {\n      authenticatedItems.push({\n        name: 'Admin',\n        href: '/admin',\n        icon: 'shield'\n      });\n    }\n    return authenticatedItems;\n  };\n  return {\n    navigationItems: getNavigationItems(),\n    userType: user === null || user === void 0 ? void 0 : user.userType,\n    isAuthenticated\n  };\n}\n_s3(useUserNavigation, \"QuJuw+ECiWjjRmqnqW59kpW0W20=\", false, function () {\n  return [useAuth, usePermissions];\n});","map":{"version":3,"names":["useContext","AuthContext","useAuth","_s","context","Error","usePermissions","_s2","user","isAuthenticated","hasPermission","permission","userType","canPostJob","canApplyForJob","canAccessAdmin","canViewApplications","canManageUsers","canBoostJobs","useUserNavigation","_s3","getNavigationItems","baseItems","name","href","icon","authenticatedItems","splice","push","navigationItems"],"sources":["/home/sophie/farmwork-hub/client/src/hooks/useAuth.ts"],"sourcesContent":["import { useContext } from 'react';\nimport { AuthContext, AuthContextValue } from '../contexts/AuthContext';\n\n/**\n * Custom hook to access authentication context\n * This is a re-export from the AuthContext for consistency\n * and to provide a single source of truth for auth operations\n */\nexport function useAuth(): AuthContextValue {\n  const context = useContext(AuthContext);\n  \n  if (context === null) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  \n  return context;\n}\n\n/**\n * Hook to check if user has specific permissions\n */\nexport function usePermissions() {\n  const { user, isAuthenticated } = useAuth();\n  \n  const hasPermission = (permission: string): boolean => {\n    if (!isAuthenticated || !user) return false;\n    \n    switch (permission) {\n      case 'post_job':\n        return user.userType === 'employer' || user.userType === 'admin';\n      case 'apply_job':\n        return user.userType === 'worker';\n      case 'admin_access':\n        return user.userType === 'admin';\n      case 'view_applications':\n        return user.userType === 'employer' || user.userType === 'admin';\n      case 'manage_users':\n        return user.userType === 'admin';\n      case 'boost_jobs':\n        return user.userType === 'employer' || user.userType === 'admin';\n      default:\n        return false;\n    }\n  };\n  \n  const canPostJob = hasPermission('post_job');\n  const canApplyForJob = hasPermission('apply_job');\n  const canAccessAdmin = hasPermission('admin_access');\n  const canViewApplications = hasPermission('view_applications');\n  const canManageUsers = hasPermission('manage_users');\n  const canBoostJobs = hasPermission('boost_jobs');\n  \n  return {\n    hasPermission,\n    canPostJob,\n    canApplyForJob,\n    canAccessAdmin,\n    canViewApplications,\n    canManageUsers,\n    canBoostJobs,\n  };\n}\n\n/**\n * Hook to get user role-based navigation items\n */\nexport function useUserNavigation() {\n  const { user, isAuthenticated } = useAuth();\n  const { canPostJob, canAccessAdmin } = usePermissions();\n  \n  const getNavigationItems = () => {\n    const baseItems = [\n      { name: 'Home', href: '/', icon: 'home' },\n      { name: 'Jobs', href: '/jobs', icon: 'briefcase' },\n    ];\n    \n    if (!isAuthenticated) {\n      return [\n        ...baseItems,\n        { name: 'Login', href: '/login', icon: 'log-in' },\n        { name: 'Register', href: '/register', icon: 'user-plus' },\n      ];\n    }\n    \n    const authenticatedItems = [\n      ...baseItems,\n      { name: 'Dashboard', href: '/dashboard', icon: 'layout-dashboard' },\n      { name: 'Profile', href: '/profile', icon: 'user' },\n    ];\n    \n    if (canPostJob) {\n      authenticatedItems.splice(2, 0, { name: 'Post Job', href: '/post-job', icon: 'plus-circle' });\n    }\n    \n    if (user?.userType === 'worker') {\n      authenticatedItems.push({ name: 'Applications', href: '/applications', icon: 'file-text' });\n    }\n    \n    if (canAccessAdmin) {\n      authenticatedItems.push({ name: 'Admin', href: '/admin', icon: 'shield' });\n    }\n    \n    return authenticatedItems;\n  };\n  \n  return {\n    navigationItems: getNavigationItems(),\n    userType: user?.userType,\n    isAuthenticated,\n  };\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}